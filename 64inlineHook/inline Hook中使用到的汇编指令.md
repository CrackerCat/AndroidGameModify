# armconverter
```
ARM架构的机器码和汇编指令的相互转换
https://armconverter.com/
```
# inline Hook中用到的汇编指令
- 两种Hook方式介绍
```
1、函数替换的方式
指直接跳转到目标函数，不需要再跳转回来。

2、函数附加的方式
指需要执行函数的原始逻辑，跳转到自定义函数地址后，还需要跳转回来。
这就需要寄存器来保存原始的参数，以便跳转回原始的函数的时候，有参数可以继续执行原始函数。

如果只在单个so文件中进行跳转，使用b指令就足够了。
如果要跨so文件进行跳转，那么b指令所能表达的位数不足以支持它进行文件间的跳转操作，这时需要使用br指令。
选择指令后，需要保存待跳转函数的地址，这时需要在各个寄存器之间进行选择。
通过比较x0~x31寄存器的功能，最终选择x16~x18作为跳板寄存器。
```

- 定向跳转
```
定向跳转常用的是b系列指令，入b指令、bl指令、br指令、blr指令。
b：跳转到相对地址
bl：跳转到相对地址并处理x30寄存器
br：跳转到绝对地址，是参数位寄存器
blr：跳转到绝对地址并处理x30寄存器

1、b指令
b指令有位的大小限制，不能跳转太远，所以它只适合在单个so文件之内跳转，如果需要做跨so文件的跳转，b指令就有它的局限性。
如果想Hook art函数，一定不可以使用b指令来Hook。

2、bl指令
bl指令只是处理了x30寄存器，而且我们也不需要处理x30寄存器，所以它也不能进行Hook art函数的操作，同b指令一样，它表达的位数太短了。

3、br指令
br指令可以跳转到寄存器的位置，所以br指令可以做到Hook art函数。

4、blr指令
函数的替换一定要使用return指令，那么x30寄存器就要保存下来，因为x30寄存器中保存着函数的返回值。
使用blr指令就要处理x30寄存器，所以它不能Hook art函数。
```

